<websiteInformation>
	<domain>dubizzle.com</domain>
	<start_urls>
		<url>https://uae.dubizzle.com/en/property-for-rent/residential/apartmentflat/</url>
	</start_urls>
	<FirstDate>25th Aug 2018</FirstDate>
	<LastDate>28th May 2016</LastDate>
	<Category>Apartment</Category>
	<Action>rent</Action>
	<SpiderName>apartments_rent_dubizzle</SpiderName>
	<Source>dubizzle</Source>
	<LogFile>LogFiles/Apartment/Rent/apartments_rent_dubizzle.txt</LogFile>
	<TemplateAttributes>Websites/Templates/ApartmentsRent.xml</TemplateAttributes>
	<DateAttribute>
		<Name>posting_date</Name>
		<Place>MasterPage</Place>
		<DateFunction>DayFirst</DateFunction>
	</DateAttribute>
	<MasterPage>
		<MasterAttributes>
			<Attribute>
				<defaultValue>NA</defaultValue>
				<name>ad_link</name>
				<xpath>normalize-space(.//span[@class='title']/a/@href)</xpath>
			</Attribute>
			<Attribute>
				<defaultValue>NA</defaultValue>
				<name>posting_date</name>
				<xpath>normalize-space(.//p[@class='date']/text())</xpath>
			</Attribute>
		</MasterAttributes>
		<Containers>
			<xpath>.//div[@class='list-listings']</xpath>
		</Containers>
		<NextPage>
			<xpath>string(.//div[@class='pages-list']/div[@class='page selected']/following-sibling/div/text())</xpath>
			<prefix>https://uae.dubizzle.com/en/property-for-rent/residential/apartmentflat/?page=</prefix>
		</NextPage>
		<LinkAttribute>
			<name>ad_link</name>
            <action>CorrectLink</action>
		</LinkAttribute>
	</MasterPage>
	<DetailsAttributes>
		<Attribute>
			<defaultValue>NA</defaultValue>
			<name>ad_link</name>
			<type>Meta</type>
		</Attribute>
		<Attribute>
			<defaultValue>NA</defaultValue>
			<name>posting_date</name>
			<type>Meta</type>
		</Attribute>
		<Attribute>
			<defaultValue>NA</defaultValue>
			<name>ad_title</name>
			<xpath>normalize-space(.//span[@id='listing-title-wrap']/text())</xpath>
			<type>Selector</type>
		</Attribute>
		<Attribute>
			<name>area</name>
			<type>Selector</type>
			<defaultValue>NA</defaultValue>
			<xpath>normalize-space(.//div[contains(@class, 'location-areas')]/span[last()]/text())</xpath>
            <actions>
                <action>changeToSmallLetters</action>
            </actions>
		</Attribute>
		<Attribute>
			<name>country</name>
			<type>Selector</type>
			<defaultValue>UAE</defaultValue>
			<xpath>nothing so use the default</xpath>
		</Attribute>
		<Attribute>
			<name>city</name>
			<type>Selector</type>
			<defaultValue>NA</defaultValue>
			<xpath>normalize-space(.//span[@id='browse_in_breadcrumb']/div[@class='seo_itemscope']/a/text())</xpath>
			<actions>
				<action>cleanCity</action>
			</actions>
		</Attribute>
		<Attribute>
			<name>bedrooms</name>
			<type>Selector</type>
			<defaultValue>-1</defaultValue>
			<xpath>normalize-space(.//ul[@class='important-fields is-flex']//li/span[normalize-space(.)='Bedrooms']/following-sibling::strong[1]/text())</xpath>
			<actions>
                <action>checkIfStudioBedroom</action>
				<action>changeToInteger</action>
			</actions>
		</Attribute>
		<Attribute>
			<name>bathrooms</name>
			<type>Selector</type>
			<defaultValue>-1</defaultValue>
			<xpath>normalize-space(.//ul[@class='important-fields is-flex']//li/span[normalize-space(.)='Bathrooms']/following-sibling::strong[1]/text())</xpath>
			<actions>
				<action>extractNumbersFromString</action>
				<action>changeToInteger</action>
			</actions>
		</Attribute>
		<Attribute>
			<name>size</name>
			<type>Selector</type>
			<defaultValue>-1</defaultValue>
			<xpath>normalize-space(.//ul[@class='important-fields is-flex']//li/span[normalize-space(.)='Size']/following-sibling::strong[1]/text())</xpath>
			<actions>
				<action>extractNumbersFromString</action>
				<action>changeToFloat</action>
			</actions>
		</Attribute>
		<Attribute>
			<name>property_reference</name>
			<type>Selector</type>
			<defaultValue>NA</defaultValue>
			<xpath>normalize-space(.//ul//li/span[normalize-space(.)='Property Reference']/following-sibling::strong[1]/text())</xpath>
		</Attribute>
		<Attribute>
			<name>furnished</name>
			<type>Selector</type>
			<defaultValue>NA</defaultValue>
			<xpath>normalize-space(.//ul[@class='important-fields is-flex']//li/span[normalize-space(.)='Furnished']/following-sibling::strong[1]/text())</xpath>
		</Attribute>
		<Attribute>
			<name>amenities</name>
			<type>Multiple</type>
			<defaultValue>NA</defaultValue>
			<xpath>.//li[@class='amenities-list-element']/div/div[2]/text()</xpath>
			<actions>
				<action>convertListToString</action>
			</actions>
		</Attribute>
		<Attribute>
			<name>payment_type</name>
			<type>Selector</type>
			<defaultValue>NA</defaultValue>
			<xpath>normalize-space(.//ul//li/span[normalize-space(.)='Rent Is Paid']/following-sibling::strong[1]/text())</xpath>
			<actions>
				<action>changeToSmallLetters</action>
			</actions>
		</Attribute>
		<Attribute>
			<name>building</name>
			<type>Selector</type>
			<defaultValue>NA</defaultValue>
			<xpath>normalize-space(.//ul//li/span[normalize-space(.)='Building']/following-sibling::strong[1]/text())</xpath>
            <actions>
                <action>changeToSmallLetters</action>
            </actions>
		</Attribute>
		<Attribute>
			<name>phone</name>
			<type>Selector</type>
			<defaultValue>NA</defaultValue>
			<xpath>normalize-space(.//a[@id='phone-lead']/@rel)</xpath>
		</Attribute>
		<Attribute>
			<name>price</name>
			<type>Selector</type>
			<defaultValue>-1</defaultValue>
			<xpath>normalize-space(.//span[@id='actualprice']/text())</xpath>
			<actions>
				<action>extractNumbersFromString</action>
				<action>changeToFloat</action>
			</actions>
		</Attribute>
		<Attribute>
			<name>trade_name</name>
			<type>Selector</type>
			<defaultValue>NA</defaultValue>
			<xpath>normalize-space(.//span[@class='lister-name']/a/text())</xpath>
		</Attribute>
		<Attribute>
			<name>rera_registration_number</name>
			<type>Selector</type>
			<defaultValue>NA</defaultValue>
			<xpath>normalize-space(.//div[@id='broker-details']//span[normalize-space(.)='RERA Registration Number:']/following-sibling::strong[1]/text())</xpath>
		</Attribute>
		<Attribute>
			<name>ded_license_number</name>
			<type>Selector</type>
			<defaultValue>NA</defaultValue>
			<xpath>normalize-space(.//div[@id='broker-details']//span[normalize-space(.)='DED Licence Number:']/following-sibling::strong[1]/text())</xpath>
		</Attribute>
		<Attribute>
			<name>ad_images</name>
			<type>Multiple</type>
			<defaultValue>NA</defaultValue>
			<xpath>.//div[@class='new-property fotorama']/img/@src</xpath>
		</Attribute>
		<Attribute>
			<name>longitude</name>
			<type>Selector</type>
			<defaultValue>NA</defaultValue>
			<xpath>.//script/text()[contains(., 'window.DETAILS_PAGE_MAP_GLOBALS =')]</xpath>
			<actions>
				<action>dubizzleGetLongitude</action>
			</actions>
		</Attribute>
		<Attribute>
			<name>latitude</name>
			<type>Selector</type>
			<defaultValue>NA</defaultValue>
            <xpath>.//script/text()[contains(., 'window.DETAILS_PAGE_MAP_GLOBALS =')]</xpath>
			<actions>
				<action>dubizzleGetLatitude</action>
			</actions>
		</Attribute>
		<Attribute>
			<name>description</name>
			<type>Selector</type>
			<defaultValue>NA</defaultValue>
			<xpath>normalize-space(string(.//div[@id='description-text']/div[@class='trans_toggle_box']/div/span[@class='title']))</xpath>
		</Attribute>
        <Attribute>
            <name>type</name>
            <type>Selector</type>
            <defaultValue>NA</defaultValue>
            <xpath>normalize-space(.//span[@id='browse_in_breadcrumb']/div[@class='seo_itemscope'][4]/a/text())</xpath>
            <actions>
                <action>dubizzleExtractType</action>
				<action>changeToSmallLetters</action>
            </actions>
        </Attribute>
        <Attribute>
            <name>buildingAndArea</name>
            <comment>This attribute is to be use in a pipeline for Dubbizle to handle the missing of the building attribute</comment>
            <type>Selector</type>
            <xpath>normalize-space(string(.//div[@class='location-areas']))</xpath>
            <defaultValue>NA</defaultValue>
			<actions>
                <action>changeToSmallLetters</action>
            </actions>
        </Attribute>
	</DetailsAttributes>
</websiteInformation>