<websiteInformation>
    <domain>propertyfinder.ae</domain>
    <start_urls>
        <url>https://www.propertyfinder.ae/en/search?c=2&amp;ob=nd&amp;page=1&amp;rp=y</url>
    </start_urls>
    <FirstDate>25th Aug 2019</FirstDate>
   <LastDate>28th May 2016</LastDate>
    <Category>Apartment</Category>
    <Action>rent</Action>
    <SpiderName>PropertyFinderApartmentsRent</SpiderName>
    <Source>propertyfinder</Source>
    <TemplateAttributes>Websites/Templates/ApartmentsRent.xml</TemplateAttributes>
    <LogFile>LogFiles/Apartment/Rent/apartments_rent_propertyfinder.log</LogFile>
    <DateAttribute>
        <Place>DetailsPage</Place>
        <Name>posting_date</Name>
        <DateFunction>DayFirst</DateFunction>
        <action>getDatePropertyFinder</action>
    </DateAttribute>
    <MasterPage>
        <MasterAttributes>
            <Attribute>
                <defaultValue>NA</defaultValue>
                <name>ad_link</name>
                <xpath>.//a/@href</xpath>
            </Attribute>
            <Attribute>
            <name>type</name>
            <type>Selector</type>
            <xpath>normalize-space(.//p[@class='card_propertyamenity card_propertyamenity-propertytype'])</xpath>
            <defaultValue>NA</defaultValue>

            </Attribute>
            <Attribute>
            <name>ad_title</name>
            <type>Selector</type>
            <defaultValue>Not Found</defaultValue>
            <xpath>normalize-space(string(.//h2[@class='card_title card_title-link']))</xpath>
            </Attribute>
        </MasterAttributes>
        <Containers>
            <xpath>.//div[@class='cardlist cardlist-property']/div[@class='cardlist_item']</xpath>
        </Containers>
        <NextPage>
            <xpath>.//a[@class='pagination_link pagination_link-next']/@href</xpath>
            <prefix>https://www.propertyfinder.ae/search?</prefix>
        </NextPage>
        <LinkAttribute>
            <name>ad_link</name>
			 <prefix>https://www.propertyfinder.ae</prefix>
        </LinkAttribute>
    </MasterPage>
    <DetailsAttributes>
        <Attribute>
                <defaultValue>NA</defaultValue>
                <name>ad_title</name>
                <type>Meta</type>
        </Attribute>
        <Attribute>
                <defaultValue>NA</defaultValue>
                <name>ad_link</name>
                <type>Meta</type>
        </Attribute>
        <Attribute>
            <defaultValue>NA</defaultValue>
            <name>type</name>
            <type>Meta</type>
            <actions>
                <action>changeToSmallLetters</action>
            </actions>
        </Attribute>
        <Attribute>
            <name>posting_date</name>
            <type>Selector</type>
            <defaultValue>NA</defaultValue>
            <xpath>normalize-space(.//div[@class='amenities_date'])</xpath>
        </Attribute>


        <Attribute>
            <name>price</name>
            <type>Selector</type>
            <xpath>normalize-space(.//span[@data-qs='selected-price-value'])</xpath>
            <defaultValue>-1</defaultValue>
            <actions>
                <action>extractNumbersFromString</action>
                <action>changeToFloat</action>
            </actions>
        </Attribute>

        <Attribute>
            <defaultValue>NA</defaultValue>
            <name>property_reference</name>
            <type>Selector</type>
            <xpath>
                normalize-space(.//*[text()[contains(.,'Reference')]]/following-sibling::div)
            </xpath>
        </Attribute>
        <Attribute>
            <defaultValue>-1</defaultValue>
            <name>bedrooms</name>
            <type>Selector</type>
            <xpath>
                normalize-space(.//div[@class='facts_container']//*[text()[contains(.,'Bedrooms')]]/following-sibling::div)
            </xpath>
            <actions>
                <action>checkIfStudioBedroom</action>
                <action>changeToInteger</action>
            </actions>
        </Attribute>
        <Attribute>
            <defaultValue>-1</defaultValue>
            <name>bathrooms</name>
            <type>Selector</type>
            <xpath>
                normalize-space(.//div[@class='facts_container']//*[text()[contains(.,'Bathrooms')]]/following-sibling::div)
            </xpath>
            <actions>
                <action>extractNumbersFromString</action>
                <action>changeToInteger</action>
            </actions>
        </Attribute>
        <Attribute>
            <defaultValue>NA</defaultValue>
            <name>area</name>
            <type>Selector</type>
            <xpath>normalize-space(.//a[@class='breadcrumb_link'][position()=2]/text())</xpath>
            <actions>
                <action>changeToSmallLetters</action>
            </actions>
        </Attribute>
        <Attribute>
            <defaultValue>-1</defaultValue>
            <name>size</name>
            <type>Selector</type>
            <xpath>
                normalize-space(.//div[@class='facts_container']//*[text()[contains(.,'Area')]]/following-sibling::div)
            </xpath>
            <actions>
                <action>extractNumbersFromString</action>
                <action>changeToFloat</action>
            </actions>
        </Attribute>
        <Attribute>
            <defaultValue>NA</defaultValue>
            <name>phone</name>
            <type>Selector</type>
            <xpath>substring(substring-after(.//script[contains(.,'window.propertyfinder.settings.property')]/text(),'tel:'),1,13)</xpath>
        </Attribute>
        <Attribute>
            <defaultValue>NA</defaultValue>
            <name>ad_images</name>
            <type>Multiple</type>
            <xpath>.//img[@class='gallery_img']/@src</xpath>
        </Attribute>

        <Attribute>
            <defaultValue>NA</defaultValue>
            <name>city</name>
            <type>Selector</type>
            <xpath>normalize-space(.//a[@class='breadcrumb_link'][position()=1]/text())</xpath>
            <actions>
                <action>cleanCity</action>
            </actions>
        </Attribute>
        <Attribute>
            <defaultValue>NA</defaultValue>
            <name>building</name>
            <type>Selector</type>
            <xpath>.//a[@class='breadcrumb_link'][last()]/text()</xpath>
            <actions>
                <action>changeToSmallLetters</action>
            </actions>
        </Attribute>
        <Attribute>
            <defaultValue>UAE</defaultValue>
            <name>country</name>
            <type>Selector</type>
            <xpath>Nothing</xpath>
			<actions>
                <action>changeToSmallLetters</action>
            </actions>
        </Attribute>
        <Attribute>
            <defaultValue>NA</defaultValue>
            <name>payment_type</name>
            <type>Selector</type>
            <xpath>normalize-space(.//span[@data-qs='selected-price-period'])</xpath>
            <actions>
                <action>changeToSmallLetters</action>
            </actions>
        </Attribute>
        <Attribute>
            <name>longitude</name>
            <defaultValue>NA</defaultValue>
            <type>Selector</type>
            <xpath>substring-before(substring-after(.//script[contains(.,'window.propertyfinder.settings.property')]/text(),'lon: '),',')</xpath>
        </Attribute>
        <Attribute>
            <name>latitude</name>
            <defaultValue>NA</defaultValue>
            <type>Selector</type>
            <xpath>substring-before(substring-after(.//script[contains(.,'window.propertyfinder.settings.property')]/text(),'lat: '),',')</xpath>
        </Attribute>
        <Attribute>
            <name>amenities</name>
            <defaultValue>NA</defaultValue>
            <type>Selector</type>
            <xpath>normalize-space(string(.//div[@class='amenities_list']))</xpath>
        </Attribute>
        <Attribute>
            <name>description</name>
            <type>Selector</type>
            <defaultValue>NA</defaultValue>
            <xpath>normalize-space(string(.//div[@data-qs='text-trimmer']))</xpath>
        </Attribute>
        <Attribute>
			<name>furnished</name>
			<type>Selector</type>
			<defaultValue>NA</defaultValue>
			<xpath>normalize-space(..//*[text()[contains(.,'Furnishings')]]/following-sibling::div)</xpath>
            <actions>
                <action>changeToSmallLetters</action>
            </actions>
		</Attribute>
    </DetailsAttributes>
</websiteInformation>