<websiteInformation>
    <domain>propsearch.ae</domain>
    <start_urls>
        <url>https://www.propsearch.ae/dubai-properties?location=&#38;loc=&#38;type=1&#38;cat=0&#38;bed=0&#38;chq=0&#38;min=0&#38;max=no&#38;client=0&#38;sort=4&#38;rpp=15&#38;last_search=</url>
    </start_urls>
    <FirstDate>25th Aug 2017</FirstDate>
    <LastDate>03th May 2016</LastDate>
    <Category>Apartment</Category>
    <Action>sale</Action>
    <SpiderName>apartments_sale_propsearch</SpiderName>
    <Source>propsearchproperty</Source>
    <TemplateAttributes>Websites/Templates/ApartmentsSale.xml</TemplateAttributes>
    <LogFile>LogFiles/Apartment/Sale/apartments_sale_propsearch.log</LogFile>
    <DateAttribute>
        <Name>posting_date</Name>
        <Place>No Place</Place>
    </DateAttribute>
    <MasterPage>
        <MasterAttributes>
            <Attribute>
                <defaultValue>NA</defaultValue>
                <name>ad_link</name>
                <xpath>.//a[@class='scrl-recall']/@href</xpath>
            </Attribute>
            <Attribute>
                <name>ad_title</name>
                <type>Selector</type>
                <xpath>.//h3[@class='rp-listing-title']/text()</xpath>
                <defaultValue>NA</defaultValue>
            </Attribute>
        </MasterAttributes>
        <Containers>
            <xpath>.//div[@id='main-column']/div[@class='rp-panel']</xpath>
        </Containers>
        <NextPage>
            <xpath>.//ul[@class='pagination']/li[last()]/a/@href</xpath>
        </NextPage>
        <LinkAttribute>
            <name>ad_link</name>
            <prefix>https://www.propsearch.ae/</prefix>
        </LinkAttribute>
    </MasterPage>
    <DetailsAttributes>
        <Attribute>
            <name>ad_title</name>
            <defaultValue>NA</defaultValue>
            <type>Meta</type>
        </Attribute>
        <Attribute>
            <name>ad_link</name>
            <type>Meta</type>
            <defaultValue>NA</defaultValue>
        </Attribute>
        <Attribute>
            <defaultValue>NA</defaultValue>
            <name>property_reference</name>
            <type>Selector</type>
            <xpath>normalize-space(.//span[@class='contact-client-ref']/text())</xpath>
        </Attribute>
        <Attribute>
            <defaultValue>-1</defaultValue>
            <name>price</name>
            <type>Selector</type>
            <xpath>normalize-space(.//span[@class='price-val commas dt-price-val']/text())</xpath>
            <actions>
                <action>extractNumbersFromString</action>
                <action>changeToFloat</action>
            </actions>
        </Attribute>
        <Attribute>
            <defaultValue>-1</defaultValue>
            <name>size</name>
            <type>Selector</type>
            <xpath>normalize-space(.//ul[@id='prop-summary']/li[3]/text())</xpath>
            <actions>
                <action>extractNumbersFromString</action>
                <action>changeToFloat</action>
            </actions>
        </Attribute>
        <Attribute>
            <defaultValue>-1</defaultValue>
            <name>bathrooms</name>
            <type>Selector</type>
            <xpath>normalize-space(.//ul[@id='prop-summary']/li[2]/text())</xpath>
            <actions>
                <action>extractNumbersFromString</action>
                <action>changeToInteger</action>
            </actions>
        </Attribute>
        <Attribute>
            <defaultValue>-1</defaultValue>
            <name>bedrooms</name>
            <type>Selector</type>
            <xpath>normalize-space(.//ul[@id='prop-summary']/li[1]/text())</xpath>
            <actions>
                <action>checkIfStudioBedroomOrNumberSpecialCaseForPropSearch</action>
                <action>changeToInteger</action>
            </actions>
        </Attribute>
        <Attribute>
            <defaultValue>-1</defaultValue>
            <name>price_sqft</name>
            <type>Selector</type>
            <xpath>normalize-space(.//span[@class='price-val ppsf']/text())</xpath>
            <actions>
                <action>extractNumbersFromString</action>
                <action>changeToFloat</action>
            </actions>
        </Attribute>
        <Attribute>
            <defaultValue>NA</defaultValue>
            <name>type</name>
            <type>Selector</type>
            <xpath>normalize-space(.//h1[@id='dt-title-results']/span/text())</xpath>
            <actions>
                <action>propsearchExtractTypeFromTitle</action>
                <action>changeToSmallLetters</action>
            </actions>
        </Attribute>
        <Attribute>
            <defaultValue>NA</defaultValue>
            <name>trade_name</name>
            <type>Selector</type>
            <xpath>normalize-space(.//div[@class='contact-broker-name']/text())</xpath>
        </Attribute>
        <Attribute>
            <defaultValue>NA</defaultValue>
            <name>phone</name>
            <type>Selector</type>
            <xpath>normalize-space(.//span[@class='cf-tel-inline']/a/text())</xpath>
        </Attribute>
        <Attribute>
            <name>country</name>
            <defaultValue>UAE</defaultValue>
            <type>Selector</type>
            <xpath>This website does not have value for the country. Bashar suggested to use the default value as UAE always</xpath>
            <actions>
                <action>changeToSmallLetters</action>
            </actions>
        </Attribute>
        <Attribute>
            <name>city</name>
            <type>Selector</type>
            <defaultValue>dubai</defaultValue>
            <xpath>this fucking website does not have a value for the city so the default is duabi</xpath>
            <actions>
                <action>cleanCity</action>
            </actions>
        </Attribute>
        <Attribute>
            <name>area</name>
            <type>Selector</type>
            <defaultValue>NA</defaultValue>
            <xpath>normalize-space(.//h1[@id='dt-title-results']/span/text())</xpath>
            <actions>
                <action>propsearchExtractAreaFromTitleForSale</action>
                <action>changeToSmallLetters</action>
            </actions>
        </Attribute>
        <Attribute>
            <name>building</name>
            <type>Selector</type>
            <defaultValue>NA</defaultValue>
            <xpath>normalize-space(.//h1[@id='dt-title-results']/span/text())</xpath>
            <actions>
                <action>propsearchExtractBuildingFromTitleForSale</action>
                <action>changeToSmallLetters</action>
            </actions>
        </Attribute>
        <Attribute>
            <name>posting_date</name>
            <type>Selector</type>
            <xpath>This webstie does not have this value, but i will added this attribute just because of the phonetic thing, i should delete it later</xpath>
            <defaultValue>2011-01-11</defaultValue>
        </Attribute>
        <Attribute>
            <name>ad_images</name>
            <type>Multiple</type>
            <defaultValue>NA</defaultValue>
            <xpath>.//div[@class='dt-image-col']/div/img/@src</xpath>
        </Attribute>
        <Attribute>
            <name>longitude</name>
            <defaultValue>NA</defaultValue>
            <type>Selector</type>
            <xpath>.//meta[@itemprop='longitude']/@content</xpath>
        </Attribute>
        <Attribute>
            <name>latitude</name>
            <defaultValue>NA</defaultValue>
            <type>Selector</type>
            <xpath>.//meta[@itemprop='latitude']/@content</xpath>
        </Attribute>
        <Attribute>
            <name>description</name>
            <defaultValue>NA</defaultValue>
            <type>Selector</type>
            <xpath>normalize-space(string(.//div[@id='dt-blurb']))</xpath>
        </Attribute>
    </DetailsAttributes>
</websiteInformation>